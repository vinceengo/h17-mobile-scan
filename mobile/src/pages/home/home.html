<!--
  Generated template for the Home page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title>{{pageTitle}}</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <div padding>
    <label class="directive" *ngIf="!isOriginScanner">Vous pouvez commencer à valider des billets.</label>
  </div>

  <ion-list *ngIf="isTicketValid && isOriginScanner">
    <audio autoplay>
      <source src="assets/music/valid_ticket.wav" type="audio/wav">
    </audio>
    <ion-item class="valid-ticket no-border">
      <label class="label-result">Billet valide</label>
    </ion-item>
    <ion-item>
      <ion-label stacked>Hash</ion-label>
      <ion-label class="info">{{ticket.ticketHash}}</ion-label>
    </ion-item>
    <ion-item>
      <ion-label stacked>Nom du propriétaire</ion-label>
      <ion-label class="info">{{ticket.owner}}</ion-label>
    </ion-item>
    <ion-item>
      <ion-label stacked>Nom du spectacle</ion-label>
      <ion-label class="info">{{ticket.event.name}}</ion-label>
    </ion-item>
    <ion-item>
      <ion-label stacked>Date et heure du spectacle</ion-label>
      <ion-label class="info">{{ticket.event.time | date: 'yyyy-MM-dd HH:mm'}}</ion-label>
    </ion-item>
    <ion-item>
      <ion-label stacked>Nom de la salle</ion-label>
      <ion-label class="info">{{ticket.event.auditorium.name}}</ion-label>
    </ion-item>
    <ion-item>
      <ion-label stacked>Adresse de la salle</ion-label>
      <ion-label class="info">{{ticket.event.auditorium.address}}</ion-label>
    </ion-item>
  </ion-list>

  <ion-list *ngIf="message && isOriginScanner">
    <audio autoplay>
      <source src="assets/music/invalid_ticket.wav" type="audio/wav">
    </audio>
    <ion-item class="invalid-ticket no-border">
      <label class="label-result">{{message}}</label>
    </ion-item>
    <ion-item *ngIf="error">
      <ion-label class="error">{{error}}</ion-label>
    </ion-item>
  </ion-list>
</ion-content>

<ion-footer class="full-width-action-button">
  <ion-toolbar>
    <button ion-button icon-only class="button button-block button-block-md button-md-primary" (click)="goToScanner()">
        <ion-icon name="camera"></ion-icon>
      </button>
  </ion-toolbar>
</ion-footer>